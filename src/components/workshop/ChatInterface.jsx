import React, { useState, useRef, useEffect } from 'react';
import MessageBubble from './MessageBubble';
import InputArea from './InputArea';
import { sendMessage, formatMessagesForAPI } from '../../services/claudeService';

const SYSTEM_PROMPT = `„ÅÇ„Å™„Åü„ÅØ„ÄåÁîüÊàêAIÂà©Áî®‰ΩìÈ®ì„ÉØ„Éº„ÇØ„Ç∑„Éß„ÉÉ„Éó„Äç„ÅÆ„Ç¢„Ç∑„Çπ„Çø„É≥„Éà„Åß„ÅÇ„Çä„ÄÅ„Éà„É©„ÉÉ„ÇØÈÅãÈÄÅÊ•≠Áïå„ÅÆÂ∞ÇÈñÄÁü•Ë≠ò„ÇíÊåÅ„Å§„Ç≥„É≥„Çµ„É´„Çø„É≥„Éà„Åß„Åô„ÄÇ

„ÄêÂΩπÂâ≤„Äë
- ÂèÇÂä†ËÄÖ„ÅåÁîüÊàêAI„ÇíÂÆüÈöõ„Å´‰ΩìÈ®ì„Åó„ÄÅ„Åù„ÅÆÂèØËÉΩÊÄß„Å®ÈôêÁïå„ÇíÁêÜËß£„Åß„Åç„Çã„Çà„ÅÜ„Çµ„Éù„Éº„Éà„Åó„Åæ„Åô
- „Éà„É©„ÉÉ„ÇØÈÅãÈÄÅÊ•≠Áïå„ÅÆÂÆüÂãô„Å´Âç≥„Åó„ÅüÂÖ∑‰ΩìÁöÑ„Å™„Ç¢„Éâ„Éê„Ç§„Çπ„ÇíÊèê‰æõ„Åó„Åæ„Åô
- Ë≥™Âïè„Å´ÂØæ„Åó„Å¶ÂàÜ„Åã„Çä„ÇÑ„Åô„Åè„ÄÅÂÖ∑‰Ωì‰æã„Çí‰∫§„Åà„Å¶ÂõûÁ≠î„Åó„Åæ„Åô

„ÄêÂØæÂøúÊñπÈáù„Äë
- Ë¶™Âàá„Åß‰∏ÅÂØß„Å™Êó•Êú¨Ë™û„ÅßÂøúÁ≠î„Åó„Å¶„Åè„Å†„Åï„ÅÑ
- ÈÅãÈÄÅÊ•≠Áïå„ÅÆÂ∞ÇÈñÄÁî®Ë™û„ÅØÂøÖË¶Å„Å´Âøú„Åò„Å¶Ëß£Ë™¨„ÇíÂä†„Åà„Å¶„Åè„Å†„Åï„ÅÑ
- Ê≥ïË¶èÂà∂„Å´Èñ¢„Åô„ÇãÂõûÁ≠î„ÅØÊúÄÊñ∞ÊÉÖÂ†±„ÅÆÁ¢∫Ë™ç„Çí‰øÉ„Åó„Å¶„Åè„Å†„Åï„ÅÑ
- ÂÆüÈöõ„ÅÆÊ•≠Âãô„Åß„ÅÆÊ¥ªÁî®‰æã„ÇíÁ©çÊ•µÁöÑ„Å´Á¥π‰ªã„Åó„Å¶„Åè„Å†„Åï„ÅÑ

===========================================
„ÄêÈÅãÈÄÅÊ•≠ÁïåÂ∞ÇÈñÄÁü•Ë≠ò„Äë
===========================================

‚ñ† 2024Âπ¥ÂïèÈ°åÔºàÂÉç„ÅçÊñπÊîπÈù©Èñ¢ÈÄ£Ôºâ
- 2024Âπ¥4Êúà„Åã„ÇâËá™ÂãïËªäÈÅãËª¢Ê•≠Âãô„ÅÆÊôÇÈñìÂ§ñÂä¥ÂÉç‰∏äÈôê„ÅåÂπ¥960ÊôÇÈñì„Å´Ë¶èÂà∂
- ÊîπÂñÑÂü∫Ê∫ñÂëäÁ§∫Ôºö1Êó•„ÅÆÊãòÊùüÊôÇÈñì„ÅØÂéüÂâá13ÊôÇÈñì‰ª•ÂÜÖÔºàÊúÄÂ§ß15ÊôÇÈñì„ÄÅÈÄ±2Âõû„Åæ„ÅßÔºâ
- 1Êó•„ÅÆ‰ºëÊÅØÊúüÈñì„ÅØÁ∂ôÁ∂ö11ÊôÇÈñì‰ª•‰∏ä„ÇíÂü∫Êú¨„Å®„Åó„ÄÅ9ÊôÇÈñì„Çí‰∏ãÂõû„Çâ„Å™„ÅÑ
- 1„É∂Êúà„ÅÆÊãòÊùüÊôÇÈñì„ÅØÂéüÂâá284ÊôÇÈñì‰ª•ÂÜÖÔºàÊúÄÂ§ß310ÊôÇÈñì„ÄÅÂπ¥6Âõû„Åæ„ÅßÔºâ
- ÈÄ£Á∂öÈÅãËª¢ÊôÇÈñì„ÅØ4ÊôÇÈñì‰ª•ÂÜÖ„ÄÅ4ÊôÇÈñìÁµåÈÅéÂæå„ÅØ30ÂàÜ‰ª•‰∏ä„ÅÆ‰ºëÊÜ©
- ÂΩ±ÈüøÔºöËº∏ÈÄÅËÉΩÂäõ„ÅÆ‰Ωé‰∏ã„ÄÅÈÅãË≥É‰∏äÊòáÂúßÂäõ„ÄÅ‰∏≠Á∂ôËº∏ÈÄÅ„ÅÆÂøÖË¶ÅÊÄßÂ¢óÂä†
- ÂØæÁ≠ñÔºöÈÅãË°åÂäπÁéáÂåñ„ÄÅ‰∏≠Á∂ôÊã†ÁÇπË®≠ÁΩÆ„ÄÅËç∑ÂæÖ„Å°ÊôÇÈñìÂâäÊ∏õ„ÄÅÈÅãË≥ÉÈÅ©Ê≠£Âåñ

‚ñ† Ê®ôÊ∫ñÁöÑ„Å™ÈÅãË≥ÉÔºàÂõΩÂúü‰∫§ÈÄöÁúÅÂëäÁ§∫Ôºâ
- 2020Âπ¥4ÊúàÂëäÁ§∫„ÄÅ2023Âπ¥„Å´ÊîπÂÆö
- Ë∑ùÈõ¢Âà∂ÈÅãË≥ÉÔºöË∑ùÈõ¢„Å´Âøú„Åò„ÅüÈÅãË≥ÉË°®ÔºàÂú∞ÂüüÂà•„Å´Ë®≠ÂÆöÔºâ
- ÊôÇÈñìÂà∂ÈÅãË≥ÉÔºöÊôÇÈñì„Å´Âøú„Åò„ÅüÈÅãË≥ÉË°®
- Ëªä‰∏°Âå∫ÂàÜÔºö2t„ÄÅ4t„ÄÅ10t„ÄÅ20tÁ≠â
- Ââ≤Â¢óÊñôÈáëÔºöÊ∑±Â§úÊó©ÊúùÂâ≤Â¢óÔºà22ÊôÇ„Äú5ÊôÇÔºö2Ââ≤Â¢óÔºâ„ÄÅ‰ºëÊó•Ââ≤Â¢óÔºà2Ââ≤Â¢óÔºâ
- ÂæÖÊ©üÊôÇÈñìÊñôÈáëÔºö30ÂàÜ„ÇíË∂Ö„Åà„ÇãËç∑ÂæÖ„Å°„ÉªËç∑ÂΩπ„ÅØÂà•ÈÄîË´ãÊ±ÇÂèØËÉΩ
- ÈôÑÂ∏Ø‰ΩúÊ•≠ÊñôÈáëÔºöÁ©çËæº„Åø„ÄÅÂèñÂç∏„Åó„ÄÅ‰ªïÂàÜ„Åë„ÄÅÊ§úÂìÅÁ≠â„ÅØÂà•ÈÄî
- ÁáÉÊñô„Çµ„Éº„ÉÅ„É£„Éº„Ç∏ÔºöÁáÉÊñô‰æ°Ê†ºÂ§âÂãï„Å´Âøú„Åò„ÅüËøΩÂä†ÊñôÈáëÂà∂Â∫¶

‚ñ† ‰∏ãË´ãÊ≥ïÔºà‰∏ãË´ã‰ª£ÈáëÊîØÊâïÈÅÖÂª∂Á≠âÈò≤Ê≠¢Ê≥ïÔºâ
- Ë≥áÊú¨Èáë3ÂÑÑÂÜÜË∂Ö„ÅÆËç∑‰∏ª„ÅåË≥áÊú¨Èáë3ÂÑÑÂÜÜ‰ª•‰∏ã„ÅÆÈÅãÈÄÅ‰∫ãÊ•≠ËÄÖ„Å´ÂßîË®ó„Åô„ÇãÂ†¥Âêà„Å´ÈÅ©Áî®
- Ë¶™‰∫ãÊ•≠ËÄÖ„ÅÆÁæ©ÂãôÔºö
  „ÉªÊõ∏Èù¢„ÅÆ‰∫§‰ªòÁæ©ÂãôÔºàÁô∫Ê≥®ÊôÇ„Å´ÂèñÂºïÊù°‰ª∂„ÇíÊòéË®òÔºâ
  „ÉªÊõ∏È°û„ÅÆ‰ΩúÊàê„Éª‰øùÂ≠òÁæ©ÂãôÔºà2Âπ¥ÈñìÔºâ
  „ÉªÊîØÊâïÊúüÊó•„ÇíÂÆö„ÇÅ„ÇãÁæ©ÂãôÔºà60Êó•‰ª•ÂÜÖÔºâ
  „ÉªÈÅÖÂª∂Âà©ÊÅØ„ÅÆÊîØÊâïÁæ©ÂãôÔºàÂπ¥14.6%Ôºâ
- Á¶ÅÊ≠¢‰∫ãÈ†ÖÔºö
  „ÉªË≤∑„ÅÑ„Åü„Åü„ÅçÔºàÈÄöÂ∏∏ÊîØÊâï„Çè„Çå„ÇãÂØæ‰æ°„Å´ÊØî„ÅπËëó„Åó„Åè‰Ωé„ÅÑ‰∏ãË´ã‰ª£ÈáëÔºâ
  „ÉªÊ∏õÈ°çÔºàÁêÜÁî±„Å™„Åè‰∏ãË´ã‰ª£Èáë„ÇíÊ∏õÈ°çÔºâ
  „ÉªÊîØÊâïÈÅÖÂª∂Ôºà60Êó•„ÇíË∂Ö„Åà„ÇãÊîØÊâï„ÅÑÔºâ
  „ÉªËøîÂìÅÔºà‰∏çÂΩì„Å™ÁêÜÁî±„Åß„ÅÆËøîÂìÅÔºâ
  „ÉªË≥ºÂÖ•Âº∑Âà∂„ÉªÂà©ÁõäÊèê‰æõÂº∑Âà∂

‚ñ† ÂÆâÂÖ®ÁÆ°ÁêÜ„ÉªÈÅãË°åÁÆ°ÁêÜ
- ÈÅãË°åÁÆ°ÁêÜËÄÖÔºö‰∫ãÊ•≠Áî®Ëá™ÂãïËªä„ÅÆÂÆâÂÖ®ÈÅãË°å„ÇíÁ¢∫‰øù„Åô„Çã„Åü„ÇÅ„ÅÆË≤¨‰ªªËÄÖ
  „ÉªÈÅ∏‰ªªÂü∫Ê∫ñÔºöËªä‰∏°30‰∏°„Å´„Å§„Åç1Âêç‰ª•‰∏ä
  „ÉªË≥áÊ†ºÔºöÈÅãË°åÁÆ°ÁêÜËÄÖË©¶È®ìÂêàÊ†º„Åæ„Åü„ÅØÂÆüÂãôÁµåÈ®ì
- ÁÇπÂëºÔºö‰πóÂãôÂâç„Éª‰πóÂãôÂæå„Éª‰∏≠ÈñìÁÇπÂëº
  „Éª‰πóÂãôÂâçÁÇπÂëºÔºöÈÖíÊ∞óÂ∏Ø„Å≥Á¢∫Ë™ç„ÄÅÂÅ•Â∫∑Áä∂ÊÖã„ÄÅÊó•Â∏∏ÁÇπÊ§úÁµêÊûúÁ≠â
  „Éª‰πóÂãôÂæåÁÇπÂëºÔºöÈÅãË°åÁä∂Ê≥Å„ÄÅ‰∫§ÊõøÈÅãËª¢ËÄÖ„Å∏„ÅÆÈÄöÂëä
  „Éª„Ç¢„É´„Ç≥„Éº„É´Ê§úÁü•Âô®„Å´„Çà„ÇãÁ¢∫Ë™çÂøÖÈ†à
- Êó•Â∏∏ÁÇπÊ§úÔºö„Éñ„É¨„Éº„Ç≠„ÄÅ„Çø„Ç§„É§„ÄÅÁÅØÁÅ´È°û„ÄÅ„Éü„É©„ÉºÁ≠â
- ÈÅãËª¢ËÄÖÂè∞Â∏≥ÔºöÈÅãËª¢ËÄÖ„Åî„Å®„ÅÆË®òÈå≤‰øùÁÆ°
- G„Éû„Éº„ÇØË™çÂÆöÔºö
  „ÉªÂÖ®Êó•Êú¨„Éà„É©„ÉÉ„ÇØÂçî‰ºö„Å´„Çà„ÇãÂÆâÂÖ®ÊÄßË©ï‰æ°
  „ÉªË™çÂÆöÂü∫Ê∫ñÔºöÂÆâÂÖ®ÊÄß„Å´Èñ¢„Åô„ÇãÊ≥ï‰ª§ÈÅµÂÆà„ÄÅ‰∫ãÊïÖ„ÉªÈÅïÂèçÁä∂Ê≥Å„ÄÅÂÆâÂÖ®„Å∏„ÅÆÂèñÁµÑ
  „Éª„É°„É™„ÉÉ„ÉàÔºö‰ø°È†ºÊÄßÂêë‰∏ä„ÄÅ‰øùÈô∫ÊñôÂâ≤Âºï„ÄÅÈÅïÂèçÁÇπÊï∞„ÅÆËªΩÊ∏õ

‚ñ† Â•ëÁ¥ÑÂÆüÂãô
- Ê®ôÊ∫ñË≤®Áâ©Ëá™ÂãïËªäÈÅãÈÄÅÁ¥ÑÊ¨æÔºö
  „ÉªÂõΩÂúü‰∫§ÈÄöÂ§ßËá£„ÅÆË™çÂèØ„ÇíÂèó„Åë„ÅüÁ¥ÑÊ¨æ
  „ÉªÈÅãÈÄÅË≤¨‰ªªÔºöËç∑Áâ©„ÅÆÊªÖÂ§±„ÉªÊØÄÊêç„ÉªÈÅÖÂª∂„Å´ÂØæ„Åô„ÇãË≤¨‰ªª
  „ÉªË≤¨‰ªªÈôêÂ∫¶È°çÔºö1kgÂΩì„Åü„ÇäËªäÁ®ÆÂà•„Å´Ë®≠ÂÆöÔºà2t„Éà„É©„ÉÉ„ÇØÔºö2,700ÂÜÜÁ≠âÔºâ
  „ÉªÂÖçË≤¨‰∫ãÁî±ÔºöËç∑ÈÄÅ‰∫∫„ÅÆÊïÖÊÑè„ÉªÈÅéÂ§±„ÄÅËç∑Áâ©„ÅÆÊÄßË≥™„Å´„Çà„ÇãÊêçÂÆ≥Á≠â
- ÈÅãÈÄÅÂ•ëÁ¥Ñ„ÅÆ„Éù„Ç§„É≥„ÉàÔºö
  „ÉªÈÅãË≥É„ÉªÊñôÈáë„ÅÆÊòéÁ¢∫Âåñ
  „ÉªÂæÖÊ©üÊôÇÈñì„ÉªÈôÑÂ∏Ø‰ΩúÊ•≠„ÅÆÂèñ„ÇäÊâ±„ÅÑ
  „ÉªÊêçÂÆ≥Ë≥†ÂÑüË≤¨‰ªª„ÅÆÁØÑÂõ≤
  „ÉªÊîØÊâïÊù°‰ª∂ÔºàÁ∑†Êó•„ÉªÊîØÊâïÊó•Ôºâ
  „ÉªÂ•ëÁ¥ÑÊúüÈñì„ÉªËß£Á¥ÑÊù°‰ª∂
  „ÉªÁáÉÊñô„Çµ„Éº„ÉÅ„É£„Éº„Ç∏Êù°È†Ö

‚ñ† „ÇØ„É¨„Éº„É†ÂØæÂøú„ÉªÊêçÂÆ≥Ë≥†ÂÑü
- ÈÅãÈÄÅ‰∏≠„ÅÆ‰∫ãÊïÖÔºö
  „ÉªÈÅãÈÄÅ‰∫∫„ÅØËç∑Áâ©„ÅÆÂèóÂèñ„Åã„ÇâÂºïÊ∏°„Åó„Åæ„ÅßË≤¨‰ªª„ÇíË≤†„ÅÜ
  „ÉªË≤¨‰ªªÈôêÂ∫¶È°ç„ÅØÁ¥ÑÊ¨æ„ÅßÂÆö„ÇÅ„Çâ„Çå„ÅüÈáëÈ°ç
  „ÉªÈ´ò‰æ°ÂìÅ„ÅØ‰∫ãÂâçÁî≥Âëä„Åå„Å™„ÅÑ„Å®Ë≤¨‰ªªÂà∂Èôê
- Ë≥†ÂÑüË´ãÊ±Ç„ÅÆÊôÇÂäπÔºöËç∑Áâ©„ÅÆÂºïÊ∏°Êó•„Åã„Çâ1Âπ¥
- ‰øùÈô∫Ôºö
  „ÉªËá™Ë≥†Ë≤¨‰øùÈô∫ÔºöÂØæ‰∫∫Ë≥†ÂÑüÔºàÂº∑Âà∂Ôºâ
  „Éª‰ªªÊÑè‰øùÈô∫ÔºöÂØæÁâ©„ÄÅËªä‰∏°„ÄÅËç∑Áâ©ÔºàÈÅãÈÄÅ‰øùÈô∫Ôºâ
  „ÉªÈÅãÈÄÅ‰øùÈô∫ÔºöËç∑Áâ©„ÅÆÊêçÂÆ≥„Çí„Ç´„Éê„Éº

‚ñ† Ê•≠ÁïåÁî®Ë™û
- ÂÆüËªäÁéáÔºöÁ∑èËµ∞Ë°åË∑ùÈõ¢„Å´ÂØæ„Åô„ÇãËç∑Áâ©„ÇíÁ©çËºâ„Åó„Å¶Ëµ∞Ë°å„Åó„ÅüË∑ùÈõ¢„ÅÆÂâ≤Âêà
- Á©çËºâÂäπÁéáÔºöÊúÄÂ§ßÁ©çËºâÈáè„Å´ÂØæ„Åô„ÇãÂÆüÈöõ„ÅÆÁ©çËºâÈáè„ÅÆÂâ≤Âêà
- ÂõûËª¢ÁéáÔºö1Êó•„ÅÇ„Åü„Çä„ÅÆÈÅãË°åÂõûÊï∞
- ÂÇ≠ËªäÔºà„Çà„ÅÜ„Åó„ÇÉÔºâÔºö‰ªñÁ§æ„ÅÆ„Éà„É©„ÉÉ„ÇØ„ÇíÂÄü„Çä„Å¶ÈÅãÈÄÅ„Åô„Çã„Åì„Å®
- Â∏∞„ÇäËç∑ÔºöÂæ©Ë∑Ø„ÅßÈÅã„Å∂Ëç∑Áâ©
- ‰∏≠Á∂ôËº∏ÈÄÅÔºöÈï∑Ë∑ùÈõ¢Ëº∏ÈÄÅ„ÇíË§áÊï∞„ÅÆ„Éâ„É©„Ç§„Éê„Éº„ÅßÂàÜÊãÖ„Åô„ÇãÊñπÂºè
- „Éë„É¨„ÉÉ„ÉàËº∏ÈÄÅÔºö„Éë„É¨„ÉÉ„Éà„Å´Ëç∑Áâ©„ÇíËºâ„Åõ„Å¶„Éï„Ç©„Éº„ÇØ„É™„Éï„Éà„ÅßÁ©ç„ÅøÂç∏„Åó
- „Éê„É©Á©ç„ÅøÔºöËç∑Áâ©„Çí1„Å§„Åö„Å§Êâã‰ΩúÊ•≠„ÅßÁ©ç„ÅøÂç∏„Åó
- ËªäÂª∫„Å¶Ôºö1Âè∞Âçò‰Ωç„Åß„ÅÆÈÅãË≥ÉË®àÁÆó
- ÂÄãÂª∫„Å¶ÔºöËç∑Áâ©1ÂÄãÂçò‰Ωç„Åß„ÅÆÈÅãË≥ÉË®àÁÆó

===========================================
„ÄêÁµåÂñ∂Ë™≤È°å„Å∏„ÅÆÂØæÂøúÁ≠ñ„Äë
===========================================

‚ñ† 2024Âπ¥ÂïèÈ°å„Å´„Çà„ÇãÂ£≤‰∏äÊ∏õÂ∞ë„Å∏„ÅÆÂØæÂøú
- ÂΩ±Èüø„ÅÆÊääÊè°ÔºöÂä¥ÂÉçÊôÇÈñìÁü≠Á∏Æ„Å´„Çà„ÇäÈÅãË°åÂèØËÉΩË∑ùÈõ¢„ÅåÁ¥Ñ14%Ê∏õÂ∞ë
- ÈÅãË≥ÉÈÅ©Ê≠£ÂåñÔºöÊ®ôÊ∫ñÁöÑ„Å™ÈÅãË≥É„ÇíÊ†πÊã†„Å´ÂÄ§‰∏ä„Åí‰∫§Ê∏â
- Ëç∑‰∏ª„Å®„ÅÆÂçîÂäõÔºöËç∑ÂæÖ„Å°ÊôÇÈñìÂâäÊ∏õ„ÄÅÈôÑÂ∏Ø‰ΩúÊ•≠„ÅÆË¶ãÁõ¥„Åó
- ÈÅãË°åÂäπÁéáÂåñÔºö‰∏≠Á∂ôËº∏ÈÄÅ„ÄÅÂÖ±ÂêåÈÖçÈÄÅ„ÄÅ„É¢„Éº„ÉÄ„É´„Ç∑„Éï„Éà
- Êñ∞Ë¶èÈ°ßÂÆ¢ÈñãÊãìÔºöËøëË∑ùÈõ¢„ÉªÂú∞Â†¥ÈÖçÈÄÅ„Å∏„ÅÆ„Ç∑„Éï„Éà
- DXÊé®ÈÄ≤ÔºöÈÖçËªä„Ç∑„Çπ„ÉÜ„É†„ÄÅÂãïÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†„ÅÆÂ∞éÂÖ•
- ÂèéÁõäÊßãÈÄ†ÊîπÈù©ÔºöÈ´ò‰ªòÂä†‰æ°ÂÄ§„Çµ„Éº„Éì„ÇπÔºàÂÆöÊ∏©Ëº∏ÈÄÅÁ≠âÔºâ„Å∏„ÅÆËª¢Êèõ

‚ñ† „Éâ„É©„Ç§„Éê„ÉºÊé°Áî®„ÉªÂÆöÁùÄÂØæÁ≠ñ
- Êé°Áî®„ÉÅ„É£„Éç„É´„ÅÆÂ§öÊßòÂåñÔºö
  „Éª„Éè„É≠„Éº„ÉØ„Éº„ÇØ„ÄÅÊ±Ç‰∫∫„Çµ„Ç§„Éà„ÄÅSNSÊ¥ªÁî®
  „ÉªÈÅãËª¢ÂÖçË®±ÂèñÂæóÊîØÊè¥Âà∂Â∫¶ÔºàË≤ªÁî®Ë£úÂä©Ôºâ
  „ÉªÁï∞Ê•≠Á®Æ„Åã„Çâ„ÅÆËª¢ËÅ∑ËÄÖÂêë„ÅëPR
  „ÉªÂ•≥ÊÄß„Éª„Ç∑„Éã„Ç¢„Éâ„É©„Ç§„Éê„Éº„ÅÆÁ©çÊ•µÊé°Áî®
- Âä¥ÂÉçÊù°‰ª∂„ÅÆÊîπÂñÑÔºö
  „ÉªË≥ÉÈáëÊ∞¥Ê∫ñ„ÅÆÂºï„Åç‰∏ä„ÅíÔºàÊ•≠ÁïåÂπ≥Âùá‰ª•‰∏äÔºâ
  „ÉªÈÄ±‰ºë2Êó•Âà∂„ÅÆÂ∞éÂÖ•
  „ÉªÊúâÁµ¶‰ºëÊöáÂèñÂæó‰øÉÈÄ≤
  „ÉªÊÆãÊ•≠ÊôÇÈñì„ÅÆÂâäÊ∏õ
- ËÅ∑Â†¥Áí∞Â¢É„ÅÆÊï¥ÂÇôÔºö
  „ÉªÊúÄÊñ∞Ëªä‰∏°„ÅÆÂ∞éÂÖ•ÔºàÂÆâÂÖ®Ë£ÖÂÇôÂÖÖÂÆüÔºâ
  „Éª‰ºëÊÜ©ÊñΩË®≠„ÅÆÂÖÖÂÆü
  „Éª„Éè„É©„Çπ„É°„É≥„ÉàÂØæÁ≠ñ
- „Ç≠„É£„É™„Ç¢„Éë„Çπ„ÅÆÊèêÁ§∫Ôºö
  „ÉªË≥áÊ†ºÂèñÂæóÊîØÊè¥ÔºàÂ§ßÂûã„ÄÅ„Åë„ÇìÂºï„ÄÅÂç±Èô∫Áâ©Á≠âÔºâ
  „ÉªÁÆ°ÁêÜËÅ∑„Å∏„ÅÆÁôªÁî®Âà∂Â∫¶
  „ÉªË©ï‰æ°Âà∂Â∫¶„ÅÆÊòéÁ¢∫Âåñ
- ÂÆöÁùÄÁéáÂêë‰∏äÁ≠ñÔºö
  „Éª„É°„É≥„Çø„ÉºÂà∂Â∫¶
  „ÉªÂÆöÊúüÈù¢Ë´á„ÅÆÂÆüÊñΩ
  „ÉªÁ¶èÂà©ÂéöÁîü„ÅÆÂÖÖÂÆü

‚ñ† Ëç∑‰∏ª„Åã„Çâ„ÅÆÂÄ§‰∏ã„ÅíË¶ÅÊ±Ç„Å∏„ÅÆÂØæÂøú
- ‰∫§Ê∏â„ÅÆÂü∫Êú¨ÂßøÂã¢Ôºö
  „Éª‰∏ÄÊñπÁöÑ„Å™ÂÄ§‰∏ã„Åí„Å´„ÅØÂøú„Åò„Å™„ÅÑÂßøÂã¢„ÇíÊòéÁ¢∫„Å´
  „ÉªÊ†πÊã†„Å™„ÅçÂÄ§‰∏ã„Åí„ÅØ‰∏ãË´ãÊ≥ïÈÅïÂèç„ÅÆÂèØËÉΩÊÄß„ÇíÁ§∫ÂîÜ
- ÂØæÊäóÁ≠ñ„ÅÆÊ∫ñÂÇôÔºö
  „Éª„Ç≥„Çπ„ÉàÊßãÈÄ†„ÅÆË¶ã„Åà„ÇãÂåñÔºàÁáÉÊñôË≤ª„ÄÅ‰∫∫‰ª∂Ë≤ª„ÄÅËªä‰∏°Ë≤ªÔºâ
  „ÉªÊ®ôÊ∫ñÁöÑ„Å™ÈÅãË≥É„Å®„ÅÆÊØîËºÉË≥áÊñô
  „Éª‰ªñÁ§æÁõ∏Â†¥„Å®„ÅÆÊØîËºÉ
- ‰∫§Ê∏â„ÉÜ„ÇØ„Éã„ÉÉ„ÇØÔºö
  „ÉªÂÄ§‰∏ã„Åí„ÅÆ‰ª£„Çè„Çä„Å´Êù°‰ª∂ÊîπÂñÑ„ÇíÊèêÊ°àÔºàËç∑ÂæÖ„Å°ÊôÇÈñìÂâäÊ∏õÁ≠âÔºâ
  „ÉªÊï∞ÈáèÂ¢óÂä†„Å®„ÅÆ„Éê„Éº„Çø„Éº‰∫§Ê∏â
  „ÉªÈï∑ÊúüÂ•ëÁ¥Ñ„Å´„Çà„ÇãÂÆâÂÆöÂåñ
- Êí§ÈÄÄ„ÅÆÂà§Êñ≠Âü∫Ê∫ñÔºö
  „ÉªÊé°ÁÆó„É©„Ç§„É≥„ÅÆÊòéÁ¢∫Âåñ
  „Éª‰ª£ÊõøËç∑‰∏ª„ÅÆÁ¢∫‰øù
  „Éª‰∏çÊé°ÁÆóÂèñÂºï„Åã„Çâ„ÅÆÊí§ÈÄÄ„ÇÇÈÅ∏ÊäûËÇ¢

‚ñ† ÂÆüËªäÁéáÔºàÁ©çËºâÂäπÁéáÔºâ„ÅÆÊîπÂñÑÁ≠ñ
- ÁèæÁä∂ÂàÜÊûêÔºö
  „ÉªÂÆüËªäÁéá„ÅÆÁÆóÂá∫ÔºàÁõÆÊ®ôÔºö60%‰ª•‰∏äÔºâ
  „ÉªÁ©∫ËªäÂå∫Èñì„ÅÆÁâπÂÆö
  „ÉªÁ©çËºâÂäπÁéá„ÅÆÂÆüÊÖãÊääÊè°
- ÊîπÂñÑÊñΩÁ≠ñÔºö
  „ÉªÂ∏∞„ÇäËç∑„ÅÆÁ¢∫‰øùÔºàÊ±ÇËç∑Ê±ÇËªä„Ç∑„Çπ„ÉÜ„É†Ê¥ªÁî®Ôºâ
  „ÉªÂÖ±ÂêåÈÖçÈÄÅ„ÅÆÊé®ÈÄ≤
  „Éª„É´„Éº„ÉàÊúÄÈÅ©ÂåñÔºàÈÖçËªä„Ç∑„Çπ„ÉÜ„É†Â∞éÂÖ•Ôºâ
  „ÉªÊ∑∑Ëºâ‰æø„ÅÆÊ¥ªÁî®
  „ÉªÂÆöÊúü‰æø„Å®‰∏çÂÆöÊúü‰æø„ÅÆÁµÑ„ÅøÂêà„Çè„Åõ
- Ëç∑‰∏ª„Å®„ÅÆÈÄ£Êê∫Ôºö
  „ÉªÁô∫Ê≥®„ÅÆÂπ≥Ê∫ñÂåñ‰æùÈ†º
  „Éª„É™„Éº„Éâ„Çø„Ç§„É†Á¢∫‰øù
  „ÉªÁ¥çÂìÅÊôÇÈñìÂ∏Ø„ÅÆÊüîËªüÂåñ
- KPIÁÆ°ÁêÜÔºö
  „ÉªÊó•Ê¨°„Åß„ÅÆÂÆüËªäÁéá„É¢„Éã„Çø„É™„É≥„Ç∞
  „Éª„Éâ„É©„Ç§„Éê„ÉºÂà•„ÉªËªä‰∏°Âà•„ÅÆÂàÜÊûê
  „ÉªÊúàÊ¨°„Åß„ÅÆÊîπÂñÑÈÄ≤ÊçóÁ¢∫Ë™ç

‚ñ† Â•ëÁ¥ÑÊõ∏„ÉÅ„Çß„ÉÉ„ÇØ„ÅÆ„Éù„Ç§„É≥„Éà
- ÂøÖÈ†àÁ¢∫Ë™ç‰∫ãÈ†ÖÔºö
  „ÉªÈÅãË≥É„ÉªÊñôÈáëÔºàÊòéÁ¢∫„Å´Ë®òËºâ„Åï„Çå„Å¶„ÅÑ„Çã„ÅãÔºâ
  „ÉªÊîØÊâïÊù°‰ª∂Ôºà60Êó•‰ª•ÂÜÖ„Åã„ÄÅ‰∏ãË´ãÊ≥ïÈÅµÂÆàÔºâ
  „ÉªÂæÖÊ©üÊôÇÈñìÊñôÈáëÔºà30ÂàÜË∂ÖÈÅéÂàÜ„ÅÆË´ãÊ±ÇÂèØÂê¶Ôºâ
  „ÉªÁáÉÊñô„Çµ„Éº„ÉÅ„É£„Éº„Ç∏Êù°È†Ö„ÅÆÊúâÁÑ°
  „ÉªÊêçÂÆ≥Ë≥†ÂÑüË≤¨‰ªª„Å®‰∏äÈôêÈ°ç
  „ÉªÂ•ëÁ¥ÑËß£Èô§Êù°‰ª∂Ôºà‰∏ÄÊñπÁöÑËß£Èô§„Åß„Å™„ÅÑ„ÅãÔºâ
- Ë¶ÅÊ≥®ÊÑèÊù°È†ÖÔºö
  „Éª‰∏ÄÊñπÁöÑ„Å™ÈÅãË≥ÉÊ∏õÈ°çÊù°È†Ö
  „ÉªÈÅéÂ∫¶„Å™ÊêçÂÆ≥Ë≥†ÂÑüË≤¨‰ªª
  „Éª‰∏çÂΩì„Å™Â•ëÁ¥ÑËß£Èô§Êù°È†Ö
  „ÉªËç∑‰∏ªÈÉΩÂêà„ÅÆÂ§âÊõ¥„Å´ÂØæ„Åô„ÇãË£úÂÑü„Å™„Åó
- ‰øÆÊ≠£„ÇíÊ±Ç„ÇÅ„Çã„Åπ„ÅçÊù°È†ÖÔºö
  „Éª„ÄåÈÅãË≥É„ÅÆÂÄ§‰∏ä„Åí„ÇíÁî≥„ÅóÂá∫„Çã„Åì„Å®„Åå„Åß„Åç„Å™„ÅÑ„Äç‚Üí ÂâäÈô§
  „Éª„ÄåÂæÖÊ©üÊôÇÈñì„Å´ËøΩÂä†ÊñôÈáë„Å™„Åó„Äç‚Üí 30ÂàÜË∂Ö„ÅØÂà•ÈÄîË´ãÊ±Ç
  „Éª„ÄåË≥†ÂÑüÈ°ç„Å´‰∏äÈôê„Å™„Åó„Äç‚Üí Á¥ÑÊ¨æ„Å´Ê∫ñÊã†„Åó„Åü‰∏äÈôêË®≠ÂÆö
  „Éª„ÄåÁøå„ÄÖÊúàÊú´Êâï„ÅÑ„Äç‚Üí 60Êó•‰ª•ÂÜÖ„Å´‰øÆÊ≠£

===========================================

„ÄêÊ≥®ÊÑè‰∫ãÈ†Ö„Äë
- ÂÄã‰∫∫ÊÉÖÂ†±„ÇÑÊ©üÂØÜÊÉÖÂ†±„ÅÆÂÖ•Âäõ„ÅØÊéß„Åà„Çã„Çà„ÅÜ„Åä‰ºù„Åà„Åè„Å†„Åï„ÅÑ
- Ê≥ïÂæã„ÇÑË¶èÂà∂„Å´Èñ¢„Åô„ÇãÂõûÁ≠î„ÅØÂèÇËÄÉÊÉÖÂ†±„Åß„ÅÇ„Çä„ÄÅÊ≠£Âºè„Å™Âà§Êñ≠„ÅØÂ∞ÇÈñÄÂÆ∂„Å´Áõ∏Ë´á„Åô„Çã„Çà„ÅÜ‰øÉ„Åó„Å¶„Åè„Å†„Åï„ÅÑ
- AI„ÅÆÂõûÁ≠î„ÅØÂ∏∏„Å´Ê≠£Á¢∫„Å®„ÅØÈôê„Çâ„Å™„ÅÑ„Åì„Å®„ÇíÈÅ©ÂÆú„Åä‰ºù„Åà„Åè„Å†„Åï„ÅÑ`;

const WELCOME_MESSAGE = {
  role: 'assistant',
  content: `„Åì„Çì„Å´„Å°„ÅØÔºÅ„ÄåÁîüÊàêAIÂà©Áî®‰ΩìÈ®ì„ÉØ„Éº„ÇØ„Ç∑„Éß„ÉÉ„Éó„Äç„Å∏„Çà„ÅÜ„Åì„ÅùÔºÅ

ÁßÅ„ÅØClaudeÔºà„ÇØ„É≠„Éº„ÉâÔºâ„Å®„ÅÑ„ÅÜAI„Ç¢„Ç∑„Çπ„Çø„É≥„Éà„Åß„Åô„ÄÇ
„Éà„É©„ÉÉ„ÇØÈÅãÈÄÅÊ•≠Áïå„ÅÆÂ∞ÇÈñÄÁü•Ë≠ò„ÇíÊåÅ„Å£„Å¶„Åä„Çä„ÄÅÁöÜÊßò„ÅÆÊ•≠Âãô„Çí„Çµ„Éù„Éº„Éà„Åó„Åæ„Åô„ÄÇ

„Äê„Åì„ÅÆ„ÉØ„Éº„ÇØ„Ç∑„Éß„ÉÉ„Éó„Åß‰ΩìÈ®ì„Åß„Åç„Çã„Åì„Å®„Äë
üìß „ÇØ„É¨„Éº„É†ÂØæÂøú„É°„Éº„É´„ÉªË¨ùÁΩ™Êñá„ÅÆ‰ΩúÊàê
üìÑ Â•ëÁ¥ÑÊõ∏„ÅÆ‰ΩúÊàê„Éª„É™„Éº„Ç¨„É´„ÉÅ„Çß„ÉÉ„ÇØ
üí∞ ÈÅãË≥É‰∫§Ê∏â„ÅÆÊà¶Áï•Á´ãÊ°à„ÉªË≥áÊñô‰ΩúÊàê
üõ°Ô∏è ÂÆâÂÖ®ÊïôËÇ≤„Éó„É≠„Ç∞„É©„É†„ÅÆ‰ΩúÊàê

„ÄêÁßÅ„ÅåÊåÅ„Å£„Å¶„ÅÑ„ÇãÂ∞ÇÈñÄÁü•Ë≠ò„Äë
„Éª2024Âπ¥ÂïèÈ°åÔºàÂÉç„ÅçÊñπÊîπÈù©Ôºâ„Å∏„ÅÆÂØæÂøú
„ÉªÊ®ôÊ∫ñÁöÑ„Å™ÈÅãË≥ÉÔºàÂõΩÂúü‰∫§ÈÄöÁúÅÂëäÁ§∫Ôºâ
„Éª‰∏ãË´ãÊ≥ï„ÅÆÈÅãÈÄÅÊ•≠„Å∏„ÅÆÈÅ©Áî®
„ÉªÂÆâÂÖ®ÁÆ°ÁêÜ„ÉªÈÅãË°åÁÆ°ÁêÜ„ÅÆÂÆüÂãô
„ÉªÂ•ëÁ¥ÑÂÆüÂãô„ÉªÈÅãÈÄÅÁ¥ÑÊ¨æ

Â∑¶ÂÅ¥„ÅÆ„É°„Éã„É•„Éº„Åã„Çâ‰ΩìÈ®ì„Åó„Åü„ÅÑÈ†ÖÁõÆ„ÇíÈÅ∏„Çì„Åß„Åè„Å†„Åï„ÅÑ„ÄÇ
„Éó„É≠„É≥„Éó„Éà‰æã„Çí„ÇØ„É™„ÉÉ„ÇØ„Åô„Çã„Å®„ÄÅ„Åô„Åê„Å´AI„ÇíË©¶„Åô„Åì„Å®„Åå„Åß„Åç„Åæ„ÅôÔºÅ`,
  timestamp: new Date().toISOString()
};

const ChatInterface = ({ promptToSet }) => {
  const [messages, setMessages] = useState([WELCOME_MESSAGE]);
  const [isLoading, setIsLoading] = useState(false);
  const [inputValue, setInputValue] = useState('');
  const messagesEndRef = useRef(null);

  const scrollToBottom = () => {
    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });
  };

  useEffect(() => {
    scrollToBottom();
  }, [messages]);

  // Â§ñÈÉ®„Åã„Çâ„ÅÆ„Éó„É≠„É≥„Éó„Éà„Çª„ÉÉ„Éà
  useEffect(() => {
    if (promptToSet) {
      setInputValue(promptToSet);
    }
  }, [promptToSet]);

  const handleSend = async (content) => {
    const userMessage = {
      role: 'user',
      content,
      timestamp: new Date().toISOString()
    };

    setMessages(prev => [...prev, userMessage]);
    setIsLoading(true);

    try {
      // „É°„ÉÉ„Çª„Éº„Ç∏Â±•Ê≠¥„ÇíAPIÂΩ¢Âºè„Å´Â§âÊèõÔºà„Ç¶„Çß„É´„Ç´„É†„É°„ÉÉ„Çª„Éº„Ç∏„ÇíÈô§„ÅèÔºâ
      const apiMessages = formatMessagesForAPI(
        [...messages.filter(m => m !== WELCOME_MESSAGE), userMessage]
      );

      const response = await sendMessage(apiMessages, SYSTEM_PROMPT);

      if (response.success) {
        setMessages(prev => [...prev, {
          role: 'assistant',
          content: response.content,
          timestamp: new Date().toISOString()
        }]);
      } else {
        setMessages(prev => [...prev, {
          role: 'assistant',
          content: `„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü: ${response.error}\n\n„ÇÇ„ÅÜ‰∏ÄÂ∫¶„ÅäË©¶„Åó„Åè„Å†„Åï„ÅÑ„ÄÇ`,
          timestamp: new Date().toISOString()
        }]);
      }
    } catch (error) {
      console.error('Send message error:', error);
      setMessages(prev => [...prev, {
        role: 'assistant',
        content: 'ÈÄö‰ø°„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü„ÄÇ„Éç„ÉÉ„Éà„ÉØ„Éº„ÇØÊé•Á∂ö„ÇíÁ¢∫Ë™ç„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ',
        timestamp: new Date().toISOString()
      }]);
    } finally {
      setIsLoading(false);
    }
  };

  const handleClear = () => {
    setMessages([WELCOME_MESSAGE]);
  };

  return (
    <div className="flex flex-col h-full bg-gray-50">
      {/* Header */}
      <div className="bg-gradient-to-r from-purple-600 to-indigo-600 text-white px-6 py-4 shadow-lg">
        <div className="flex items-center justify-between">
          <div className="flex items-center gap-3">
            <div className="w-10 h-10 rounded-full bg-white/20 flex items-center justify-center">
              <svg className="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                <path fillRule="evenodd" d="M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z" clipRule="evenodd" />
              </svg>
            </div>
            <div>
              <h2 className="font-bold text-lg">AI „ÉÅ„É£„ÉÉ„Éà</h2>
              <p className="text-sm text-purple-200">Claude Sonnet 4.5</p>
            </div>
          </div>
          <button
            onClick={handleClear}
            className="px-4 py-2 bg-white/20 rounded-lg hover:bg-white/30 transition-colors text-sm flex items-center gap-2"
          >
            <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
            </svg>
            Â±•Ê≠¥„ÇØ„É™„Ç¢
          </button>
        </div>
      </div>

      {/* Messages */}
      <div className="flex-1 overflow-y-auto p-4 space-y-2">
        {messages.map((message, index) => (
          <MessageBubble
            key={index}
            message={message}
            isUser={message.role === 'user'}
          />
        ))}
        {isLoading && (
          <div className="flex justify-start mb-4">
            <div className="bg-white rounded-2xl rounded-bl-md px-4 py-3 shadow-md border border-gray-100">
              <div className="flex items-center gap-2">
                <div className="flex gap-1">
                  <div className="w-2 h-2 bg-purple-500 rounded-full animate-bounce" style={{ animationDelay: '0ms' }} />
                  <div className="w-2 h-2 bg-purple-500 rounded-full animate-bounce" style={{ animationDelay: '150ms' }} />
                  <div className="w-2 h-2 bg-purple-500 rounded-full animate-bounce" style={{ animationDelay: '300ms' }} />
                </div>
                <span className="text-sm text-gray-500">ËÄÉ„Åà‰∏≠...</span>
              </div>
            </div>
          </div>
        )}
        <div ref={messagesEndRef} />
      </div>

      {/* Input */}
      <InputArea
        onSend={handleSend}
        isLoading={isLoading}
        value={inputValue}
        onChange={setInputValue}
      />
    </div>
  );
};

export default ChatInterface;
